{"version":3,"sources":["init/actionTypes.js","init/appReducer.js","init/filmsReducers.js","init/rootReducer.js","consts.js","init/actions.js","init/sagas.js","init/store.js","components/Loader.jsx","bus/films/Film.jsx","bus/films/Films.jsx","bus/films/Search.jsx","components/Header.jsx","App.js","reportWebVitals.js","index.js"],"names":["SHOW_LOADER","HIDE_LOADER","FOUNDED_FILM","SEARCH_FILM","CLEAR_FILM","SHOW_ERROR","initialState","loading","error","film","rootReducer","combineReducers","films","state","action","type","app","imdbUrl","title","process","queries","small","small_medium","medium","large","foundedFilm","searchFilmWatcher","searchFilmWorker","takeEvery","put","call","requestToFilm","Response","message","a","fetch","response","json","sagaMiddleware","createSagaMiddleware","store","createStore","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","run","antIcon","LoadingOutlined","style","fontSize","color","spin","Loader","className","indicator","Meta","Film","year","poster","match","hoverable","width","display","flexDirection","alignItems","justifyContent","paddingTop","borderRadius","cover","src","Image","height","description","Films","useSelector","Object","keys","length","Title","Year","Poster","imageStyle","marginBottom","Search","dispatch","useDispatch","useState","value","setValue","placeholder","onSearch","inputValue","trim","showError","disabled","size","onChange","e","target","Header","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.27fe6b80.chunk.js","sourcesContent":["export const SHOW_LOADER = \"APP/SHOW_LOADER\";\r\nexport const HIDE_LOADER = \"APP/HIDE_LOADER\";\r\nexport const FOUNDED_FILM = \"FILMS/FOUNDED_FILM\";\r\nexport const SEARCH_FILM = \"FILMS/SEARCH_FILM\";\r\nexport const CLEAR_FILM = \"FILMS/CLEAR_FILM\";\r\nexport const SHOW_ERROR = \"APP/SHOW_ERROR\";\r\n","import { SHOW_LOADER, HIDE_LOADER, SHOW_ERROR } from \"./actionTypes\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: \"\",\r\n};\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SHOW_LOADER:\r\n      return { ...state, loading: true };\r\n    case HIDE_LOADER:\r\n      return { ...state, loading: false };\r\n    case SHOW_ERROR:\r\n      return { ...state, error: action.error };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { CLEAR_FILM, FOUNDED_FILM } from \"./actionTypes\";\r\n\r\nconst initialState = {\r\n  film: {},\r\n};\r\n\r\nexport const filmsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOUNDED_FILM:\r\n      return { ...state, film: { ...action.film } };\r\n    case CLEAR_FILM:\r\n      return { ...state, film: {} };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { appReducer } from \"./appReducer\";\r\nimport { filmsReducer } from \"./filmsReducers\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  films: filmsReducer,\r\n  app: appReducer,\r\n});\r\n","export const imdbUrl = (title) =>\r\n  `https://www.omdbapi.com/?t=${title}&apikey=${process.env.REACT_APP_IMDB_API_KEY}`;\r\n\r\nexport const POSTER_NOT_FOUND = \"N/A\";\r\nexport const FILM_RESPONSE_FALSE = \"False\";\r\nexport const queries = {\r\n  small: \"(max-width: 368px)\",\r\n  small_medium: \"(max-width: 600px)\",\r\n  medium: \"(min-width: 600px) and (max-width: 1199px)\",\r\n  large: \"(min-width: 1200px)\",\r\n};\r\n","import {\r\n  SHOW_LOADER,\r\n  HIDE_LOADER,\r\n  FOUNDED_FILM,\r\n  SEARCH_FILM,\r\n  SHOW_ERROR,\r\n  CLEAR_FILM,\r\n} from \"./actionTypes\";\r\n\r\nexport const showLoader = () => {\r\n  return {\r\n    type: SHOW_LOADER,\r\n  };\r\n};\r\n\r\nexport const hideLoader = () => {\r\n  return {\r\n    type: HIDE_LOADER,\r\n  };\r\n};\r\n\r\nexport const foundedFilm = (film) => {\r\n  return {\r\n    type: FOUNDED_FILM,\r\n    film,\r\n  };\r\n};\r\n\r\nexport const clearFilm = () => {\r\n  return {\r\n    type: CLEAR_FILM,\r\n  };\r\n};\r\n\r\nexport const showError = (error) => {\r\n  return {\r\n    type: SHOW_ERROR,\r\n    error,\r\n  };\r\n};\r\n\r\nexport const searchFilm = (title) => {\r\n  return {\r\n    type: SEARCH_FILM,\r\n    title,\r\n  };\r\n};\r\n","import { message } from \"antd\";\r\nimport { call, put, takeEvery } from \"redux-saga/effects\";\r\nimport { FILM_RESPONSE_FALSE, imdbUrl } from \"../consts\";\r\nimport { clearFilm, foundedFilm, hideLoader, showLoader } from \"./actions\";\r\nimport { SEARCH_FILM } from \"./actionTypes\";\r\n\r\nexport function* searchFilmWatcher() {\r\n  yield takeEvery(SEARCH_FILM, searchFilmWorker);\r\n}\r\n\r\nfunction* searchFilmWorker(action) {\r\n  try {\r\n    yield put(showLoader());\r\n    yield put(clearFilm());\r\n    const film = yield call(requestToFilm, action.title);\r\n    if (film.Response !== FILM_RESPONSE_FALSE) {\r\n      yield put(foundedFilm(film));\r\n    }\r\n  } catch (e) {\r\n    message.error(\"Произошла ошибка при запросе фильма, повторите попытку!\");\r\n  } finally {\r\n    yield put(hideLoader());\r\n  }\r\n}\r\n\r\nasync function requestToFilm(title) {\r\n  const response = await fetch(imdbUrl(title));\r\n  return await response.json();\r\n}\r\n","import { applyMiddleware, compose, createStore } from \"redux\";\r\nimport { rootReducer } from \"./rootReducer\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport { searchFilmWatcher } from \"./sagas\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  compose(\r\n    applyMiddleware(sagaMiddleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nsagaMiddleware.run(searchFilmWatcher);\r\n\r\nexport { store };\r\n","import React from \"react\";\r\nimport { Spin } from \"antd\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\n\r\nconst antIcon = (\r\n  <LoadingOutlined style={{ fontSize: 50, color: \"#4d375d\" }} spin />\r\n);\r\n\r\nexport const Loader = () => (\r\n  <div className=\"loader\">\r\n    <Spin indicator={antIcon} />\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport { Card, Skeleton, Image } from \"antd\";\r\nimport { POSTER_NOT_FOUND, queries } from \"../../consts\";\r\nimport Media from \"react-media\";\r\n\r\nconst { Meta } = Card;\r\n\r\nexport const Film = ({ title, year, poster }) => {\r\n  return (\r\n    <div className=\"film\">\r\n      <Media queries={queries}>\r\n        {(match) => (\r\n          <Card\r\n            hoverable\r\n            style={{\r\n              width: match.small_medium ? 205 : 240,\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              paddingTop: match.small_medium ? 15 : 20,\r\n              borderRadius: 5,\r\n            }}\r\n            cover={\r\n              poster !== POSTER_NOT_FOUND ? (\r\n                <Image\r\n                  width={match.small_medium ? 165 : 200}\r\n                  src={poster}\r\n                  style={{ borderRadius: 5 }}\r\n                />\r\n              ) : (\r\n                <Skeleton.Image\r\n                  style={{ borderRadius: 5, width: 200, height: 300 }}\r\n                />\r\n              )\r\n            }\r\n          >\r\n            <Meta\r\n              title={title}\r\n              description={year}\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"flex-start\",\r\n              }}\r\n            />\r\n          </Card>\r\n        )}\r\n      </Media>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Loader } from \"../../components/Loader\";\r\nimport { Film } from \"./Film\";\r\nimport { Empty } from \"antd\";\r\n\r\nexport const Films = () => {\r\n  const film = useSelector((state) => state.films.film);\r\n  const loading = useSelector((state) => state.app.loading);\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"films\">\r\n      {Object.keys(film).length ? (\r\n        <Film title={film.Title} year={film.Year} poster={film.Poster} />\r\n      ) : (\r\n        <Empty\r\n          imageStyle={{ marginBottom: 15 }}\r\n          description={<span className=\"films__not\">Нет фильма!</span>}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { searchFilm, showError } from \"../../init/actions\";\r\nimport { Input } from \"antd\";\r\nimport { message } from \"antd\";\r\n\r\nexport const Search = () => {\r\n  const loading = useSelector((state) => state.app.loading);\r\n  const error = useSelector((state) => state.app.error);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const search = (inputValue) => {\r\n    if (inputValue.trim()) {\r\n      dispatch(searchFilm(inputValue));\r\n      setValue(\"\");\r\n    } else {\r\n      !error && dispatch(showError(\"Введите название фильма!\"));\r\n      message.error(`Ошибка: ${error || \"Введите название фильма!\"}`);\r\n    }\r\n  };\r\n\r\n  const changeHandler = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <Input.Search\r\n        placeholder=\"Введите название фильма...\"\r\n        onSearch={search}\r\n        disabled={loading}\r\n        loading={loading}\r\n        size=\"large\"\r\n        value={value}\r\n        onChange={changeHandler}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nexport const Header = () => {\r\n  return (\r\n    <div className=\"header\">\r\n      <h2 className=\"header__text\">Найди свой любимый фильм!</h2>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Films } from \"./bus/films/Films\";\r\nimport { Search } from \"./bus/films/Search\";\r\nimport { Header } from \"./components/Header\";\r\n\r\nexport const App = () => {\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <Header />\r\n      <Search />\r\n      <Films />\r\n    </div>\r\n  );\r\n};\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { store } from \"./init/store\";\r\nimport { App } from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport \"antd/dist/antd.css\";\r\nimport \"./styles/styles.scss\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}